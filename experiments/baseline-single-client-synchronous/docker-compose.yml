services:
  zookeeper:
    image: zookeeper:latest
    restart: always
    networks:
      - bookkeeper-internal
    ports:
      - 2181:2181/tcp

  bookie1:
    image: apache/bookkeeper:latest
    restart: always
    networks:
      - bookkeeper-internal
    ports:
      - 3181:3181/tcp
    links:
      - zookeeper
    depends_on:
      - zookeeper
    environment:
      BK_zkServers: zookeeper:2181

  bookie2:
    image: apache/bookkeeper:latest
    restart: always
    networks:
      - bookkeeper-internal
    ports:
      - 3182:3181/tcp
    links:
      - zookeeper
    depends_on:
      - zookeeper
    environment:
      BK_zkServers: zookeeper:2181

  bookie3:
    image: apache/bookkeeper:latest
    restart: always
    networks:
      - bookkeeper-internal
    ports:
      - 3183:3181/tcp
    links:
      - zookeeper
    depends_on:
      - zookeeper
    environment:
      BK_zkServers: zookeeper:2181

networks:
  bookkeeper-internal:
